{% extends 'tickets/dashboard_base.html' %}
{% block title %}Ù¾Ù†Ù„ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ IT{% endblock %}
{% block content %}
{{ block.super }}

<!-- Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ -->
<div class="card p-3 shadow-sm mt-4">
    <h5 class="fw-bold mb-3">ğŸ“Œ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„</h5>
    {% include 'tickets/_expert_table.html' with tickets=active_tickets %}
</div>

<!-- Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ ØªÙ…Ø§Ù…â€ŒØ´Ø¯Ù‡ -->
<div class="card p-3 shadow-sm mt-4">
    <h5 class="fw-bold mb-3 text-success">âœ… Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ ØªÙ…Ø§Ù…â€ŒØ´Ø¯Ù‡</h5>
    {% include 'tickets/_expert_table.html' with tickets=done_tickets %}
</div>

<script>
function refreshExpertTables(){
    fetch("{% url 'expert_dashboard_table' %}")
    .then(response => response.json())
    .then(data => {
        document.getElementById("active-tickets-table").innerHTML = data.html_active;
        document.getElementById("done-tickets-table").innerHTML = data.html_done;
    });
}
setInterval(refreshExpertTables, 60000);
</script>
{% endblock %}